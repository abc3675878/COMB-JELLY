{"version":3,"sources":["webpack:///./src/components/Coupon.vue?b3a7","webpack:///./src/components/Coupon.vue?06ab","webpack:///src/components/Coupon.vue","webpack:///./src/components/Coupon.vue?315f","webpack:///./src/components/Coupon.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_m","staticClass","attrs","directives","name","rawName","value","expression","domProps","on","$event","target","composing","title","percent","code","Array","isArray","is_enabled","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","slice","due_date","createCoupon","_l","couponList","item","key","id","_s","$set","deleteCoupon","updateCoupon","staticRenderFns","data","methods","$http","post","api","console","log","res","put","delete","then","getCoupon","get","created","component"],"mappings":"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","file":"js/dashboard_coupon.728688d1.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Coupon.vue?vue&type=style&index=0&id=6761530c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"優惠券\")]),_vm._m(0),_c('div',{staticClass:\"collapse createConfirm\",attrs:{\"id\":\"collapseExample\"}},[_c('div',{staticClass:\"card card-body\"},[_c('form',[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col d-flex align-items-center justify-content-center\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"優惠券名稱\"},domProps:{\"value\":(_vm.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}})]),_c('div',{staticClass:\"col-1 d-flex align-items-center justify-content-center\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.percent),expression:\"percent\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"折數\"},domProps:{\"value\":(_vm.percent)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.percent=$event.target.value}}})]),_c('div',{staticClass:\"col d-flex align-items-center justify-content-center\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.code),expression:\"code\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"優惠券代碼\"},domProps:{\"value\":(_vm.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.code=$event.target.value}}})]),_c('div',{staticClass:\"col-1 d-flex align-items-center justify-content-center\"},[_c('div',{staticClass:\"custom-control custom-switch\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.is_enabled),expression:\"is_enabled\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":\"customSwitch1\"},domProps:{\"checked\":Array.isArray(_vm.is_enabled)?_vm._i(_vm.is_enabled,null)>-1:(_vm.is_enabled)},on:{\"change\":function($event){var $$a=_vm.is_enabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.is_enabled=$$a.concat([$$v]))}else{$$i>-1&&(_vm.is_enabled=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.is_enabled=$$c}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"customSwitch1\"}},[_vm._v(\"啟用\")])])]),_c('div',{staticClass:\"col d-flex align-items-center justify-content-center flex-column\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.due_date),expression:\"due_date\"}],attrs:{\"id\":\"date\",\"type\":\"datetime-local\"},domProps:{\"value\":(_vm.due_date)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.due_date=$event.target.value}}}),_c('label',{attrs:{\"for\":\"date\"}},[_vm._v(\"到期日\")])]),_c('div',{staticClass:\"col-1 d-flex align-items-center justify-content-center\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"},on:{\"click\":_vm.createCoupon}},[_vm._v(\" 新增 \")])])])])])]),_c('hr'),_c('table',{staticClass:\"table\"},[_vm._m(1),_vm._l((this.couponList.coupons),function(item){return _c('tbody',{key:item.id},[_c('tr',[_c('td',[_vm._v(_vm._s(item.title))]),_c('td',[_vm._v(_vm._s(item.code))]),_c('td',[_vm._v(_vm._s(item.percent))]),_c('td',[_c('div',{staticClass:\"custom-control custom-switch\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.is_enabled),expression:\"item.is_enabled\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":\"customSwitch2\"},domProps:{\"checked\":Array.isArray(item.is_enabled)?_vm._i(item.is_enabled,null)>-1:(item.is_enabled)},on:{\"change\":function($event){var $$a=item.is_enabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(item, \"is_enabled\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(item, \"is_enabled\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(item, \"is_enabled\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"customSwitch2\"}})])]),_c('td',[_vm._v(_vm._s(item.due_date))]),_c('td',[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\",\"data-toggle\":\"collapse\",\"data-target\":'#' + item.id}},[_vm._v(\" 修改 \")])])]),_c('tr',[_c('td',{staticClass:\"border-0\",attrs:{\"colspan\":\"6\"}},[_c('div',{staticClass:\"collapse updateConfirm\",attrs:{\"id\":item.id}},[_c('div',{staticClass:\"card card-body\"},[_c('form',[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col-1 d-flex align-items-center justify-content-center\"},[_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.deleteCoupon(item.id)}}},[_c('span',{staticClass:\"font-weight-bold\",attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"× 刪除\")])])]),_c('div',{staticClass:\"col d-flex align-items-center justify-content-center\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.title),expression:\"item.title\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"優惠券名稱\"},domProps:{\"value\":(item.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"title\", $event.target.value)}}})]),_c('div',{staticClass:\"col-1 d-flex align-items-center justify-content-center\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.percent),expression:\"item.percent\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"折數\"},domProps:{\"value\":(item.percent)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"percent\", $event.target.value)}}})]),_c('div',{staticClass:\"col d-flex align-items-center justify-content-center\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.code),expression:\"item.code\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"優惠券代碼\"},domProps:{\"value\":(item.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"code\", $event.target.value)}}})]),_c('div',{staticClass:\"col-1 d-flex align-items-center justify-content-center\"},[_c('div',{staticClass:\"custom-control custom-switch\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.is_enabled),expression:\"item.is_enabled\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":'check' + item.id},domProps:{\"checked\":Array.isArray(item.is_enabled)?_vm._i(item.is_enabled,null)>-1:(item.is_enabled)},on:{\"change\":function($event){var $$a=item.is_enabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(item, \"is_enabled\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(item, \"is_enabled\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(item, \"is_enabled\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":'check' + item.id}},[_vm._v(\"啟用\")])])]),_c('div',{staticClass:\"col d-flex align-items-center justify-content-center flex-column\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.due_date),expression:\"item.due_date\"}],attrs:{\"id\":'date' + item.id,\"type\":\"datetime-local\"},domProps:{\"value\":(item.due_date)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"due_date\", $event.target.value)}}}),_c('label',{attrs:{\"for\":'date' + item.id}},[_vm._v(\"到期日\")])]),_c('div',{staticClass:\"col-1 d-flex align-items-center justify-content-center\"},[_c('button',{staticClass:\"btn btn-dark\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){return _vm.updateCoupon(item)}}},[_vm._v(\" 確認 \")])])])])])])])])])})],2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"text-right\"},[_c('a',{staticClass:\"btn btn-primary\",attrs:{\"data-toggle\":\"collapse\",\"href\":\"#collapseExample\",\"role\":\"button\",\"aria-expanded\":\"false\",\"aria-controls\":\"collapseExample\"}},[_vm._v(\" 新增優惠券 \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"優惠券名稱\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"優惠券代碼\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"折數(百分比)\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"是否啟用\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"到期時間\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"修改\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h1>優惠券</h1>\n    <p class=\"text-right\">\n      <a\n        class=\"btn btn-primary\"\n        data-toggle=\"collapse\"\n        href=\"#collapseExample\"\n        role=\"button\"\n        aria-expanded=\"false\"\n        aria-controls=\"collapseExample\"\n      >\n        新增優惠券\n      </a>\n    </p>\n    <div class=\"collapse createConfirm\" id=\"collapseExample\">\n      <div class=\"card card-body\">\n        <form>\n          <div class=\"form-row\">\n            <div class=\"col d-flex align-items-center justify-content-center\">\n              <input\n                class=\"form-control\"\n                type=\"text\"\n                placeholder=\"優惠券名稱\"\n                v-model=\"title\"\n              />\n            </div>\n            <div class=\"col-1 d-flex align-items-center justify-content-center\">\n              <input\n                class=\"form-control\"\n                type=\"text\"\n                placeholder=\"折數\"\n                v-model=\"percent\"\n              />\n            </div>\n            <div class=\"col d-flex align-items-center justify-content-center\">\n              <input\n                class=\"form-control\"\n                type=\"text\"\n                placeholder=\"優惠券代碼\"\n                v-model=\"code\"\n              />\n            </div>\n            <div class=\"col-1 d-flex align-items-center justify-content-center\">\n              <div class=\"custom-control custom-switch\">\n                <input\n                  type=\"checkbox\"\n                  class=\"custom-control-input\"\n                  id=\"customSwitch1\"\n                  v-model=\"is_enabled\"\n                />\n                <label class=\"custom-control-label\" for=\"customSwitch1\"\n                  >啟用</label\n                >\n              </div>\n            </div>\n            <div\n              class=\"col d-flex align-items-center justify-content-center flex-column\"\n            >\n              <input id=\"date\" type=\"datetime-local\" v-model=\"due_date\" />\n              <label for=\"date\">到期日</label>\n            </div>\n            <div class=\"col-1 d-flex align-items-center justify-content-center\">\n              <button\n                @click=\"createCoupon\"\n                type=\"submit\"\n                class=\"btn btn-primary\"\n              >\n                新增\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n    <hr />\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th scope=\"col\">優惠券名稱</th>\n          <th scope=\"col\">優惠券代碼</th>\n          <th scope=\"col\">折數(百分比)</th>\n          <th scope=\"col\">是否啟用</th>\n          <th scope=\"col\">到期時間</th>\n          <th scope=\"col\">修改</th>\n        </tr>\n      </thead>\n      <tbody v-for=\"item in this.couponList.coupons\" :key=\"item.id\">\n        <tr>\n          <td>{{ item.title }}</td>\n          <td>{{ item.code }}</td>\n          <td>{{ item.percent }}</td>\n          <td>\n            <div class=\"custom-control custom-switch\">\n              <input\n                type=\"checkbox\"\n                class=\"custom-control-input\"\n                id=\"customSwitch2\"\n                v-model=\"item.is_enabled\"\n              />\n              <label class=\"custom-control-label\" for=\"customSwitch2\"></label>\n            </div>\n          </td>\n          <td>{{ item.due_date }}</td>\n          <td>\n            <button\n              class=\"btn btn-primary\"\n              type=\"button\"\n              data-toggle=\"collapse\"\n              :data-target=\"'#' + item.id\"\n            >\n              修改\n            </button>\n          </td>\n        </tr>\n        <!-- 修改欄位 修改欄位 修改欄位 修改欄位 修改欄位 修改欄位-->\n        <!-- 修改欄位 修改欄位 修改欄位 修改欄位 修改欄位 修改欄位-->\n        <!-- 修改欄位 修改欄位 修改欄位 修改欄位 修改欄位 修改欄位-->\n        <!-- 修改欄位 修改欄位 修改欄位 修改欄位 修改欄位 修改欄位-->\n        <!-- 修改欄位 修改欄位 修改欄位 修改欄位 修改欄位 修改欄位-->\n        <!-- 修改欄位 修改欄位 修改欄位 修改欄位 修改欄位 修改欄位-->\n        <!-- 修改欄位 修改欄位 修改欄位 修改欄位 修改欄位 修改欄位-->\n        <!-- 修改欄位 修改欄位 修改欄位 修改欄位 修改欄位 修改欄位-->\n        <tr>\n          <td colspan=\"6\" class=\"border-0\">\n            <div class=\"collapse updateConfirm\" :id=\"item.id\">\n              <div class=\"card card-body\">\n                <form>\n                  <div class=\"form-row\">\n                    <div\n                      class=\"col-1 d-flex align-items-center justify-content-center\"\n                    >\n                      <button\n                        type=\"button\"\n                        class=\"close\"\n                        @click=\"deleteCoupon(item.id)\"\n                      >\n                        <span aria-hidden=\"true\" class=\"font-weight-bold\"\n                          >&times; 刪除</span\n                        >\n                      </button>\n                    </div>\n                    <div\n                      class=\"col d-flex align-items-center justify-content-center\"\n                    >\n                      <input\n                        class=\"form-control\"\n                        type=\"text\"\n                        placeholder=\"優惠券名稱\"\n                        v-model=\"item.title\"\n                      />\n                    </div>\n                    <div\n                      class=\"col-1 d-flex align-items-center justify-content-center\"\n                    >\n                      <input\n                        class=\"form-control\"\n                        type=\"text\"\n                        placeholder=\"折數\"\n                        v-model=\"item.percent\"\n                      />\n                    </div>\n                    <div\n                      class=\"col d-flex align-items-center justify-content-center\"\n                    >\n                      <input\n                        class=\"form-control\"\n                        type=\"text\"\n                        placeholder=\"優惠券代碼\"\n                        v-model=\"item.code\"\n                      />\n                    </div>\n                    <div\n                      class=\"col-1 d-flex align-items-center justify-content-center\"\n                    >\n                      <div class=\"custom-control custom-switch\">\n                        <input\n                          type=\"checkbox\"\n                          class=\"custom-control-input\"\n                          :id=\"'check' + item.id\"\n                          v-model=\"item.is_enabled\"\n                        />\n                        <label\n                          class=\"custom-control-label\"\n                          :for=\"'check' + item.id\"\n                          >啟用</label\n                        >\n                      </div>\n                    </div>\n                    <div\n                      class=\"col d-flex align-items-center justify-content-center flex-column\"\n                    >\n                      <input\n                        :id=\"'date' + item.id\"\n                        type=\"datetime-local\"\n                        v-model=\"item.due_date\"\n                      />\n                      <label :for=\"'date' + item.id\">到期日</label>\n                    </div>\n                    <div\n                      class=\"col-1 d-flex align-items-center justify-content-center\"\n                    >\n                      <button\n                        @click=\"updateCoupon(item)\"\n                        type=\"submit\"\n                        class=\"btn btn-dark\"\n                      >\n                        確認\n                      </button>\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport $ from \"jquery\";\n\nexport default {\n  data() {\n    return {\n      title: \"\",\n      is_enabled: 1,\n      percent: 0,\n      due_date: \"\",\n      code: \"\",\n      couponList: {}\n      // updateCouponList: {}\n    };\n  },\n  // computed: {\n  //   updateCouponList() {\n  //     return Object.assign({}, this.couponList)\n  //   }\n  // },\n  methods: {\n    createCoupon() {\n      const api = `${process.env.VUE_APP_API}api/abc3675878/admin/coupon`;\n      const discount_code = {\n        title: this.title,\n        is_enabled: this.is_enabled,\n        percent: this.percent,\n        due_date: this.due_date,\n        code: this.code\n      };\n      this.$http.post(api, { data: discount_code }).then(res => {\n        $(\".createConfirm\").collapse(\"hide\");\n        console.log(\"新增優惠券\", res.data);\n        this.getCoupon();\n        this.title = \"\";\n        this.is_enabled = \"\";\n        this.percent = \"\";\n        this.due_date = \"\";\n        this.code = \"\";\n      });\n    },\n    updateCoupon(item) {\n      const api = `${process.env.VUE_APP_API}api/abc3675878/admin/coupon/${item.id}`;\n      this.$http.put(api, { data: item }).then(res => {\n        console.log(\"修改優惠券\", res.data);\n        $(\".updateConfirm\").collapse(\"hide\");\n        this.getCoupon();\n      });\n    },\n    deleteCoupon(id) {\n      const api = `${process.env.VUE_APP_API}api/abc3675878/admin/coupon/${id}`;\n      this.$http.delete(api).then(res => {\n        console.log(\"刪除優惠券\", res.data);\n        this.getCoupon();\n      });\n    },\n    getCoupon() {\n      const api = `${process.env.VUE_APP_API}api/abc3675878/admin/coupons?page=1`;\n      this.$http.get(api).then(res => {\n        console.log(\"取得優惠券列表\", res.data);\n        this.couponList = res.data;\n      });\n    }\n  },\n  created() {\n    this.getCoupon();\n  }\n};\n</script>\n\n<style scoped>\n*:not(h1) {\n  font-size: 14px !important;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Coupon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Coupon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Coupon.vue?vue&type=template&id=6761530c&scoped=true&\"\nimport script from \"./Coupon.vue?vue&type=script&lang=js&\"\nexport * from \"./Coupon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Coupon.vue?vue&type=style&index=0&id=6761530c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6761530c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}