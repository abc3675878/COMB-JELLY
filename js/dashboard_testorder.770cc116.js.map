{"version":3,"sources":["webpack:///./src/components/Testorder.vue?4a79","webpack:///src/components/Testorder.vue","webpack:///./src/components/Testorder.vue?a133","webpack:///./src/components/Testorder.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","on","$event","staticClass","_l","item","key","id","staticStyle","style","backgroundImage","_v","_s","category","title","content","origin_price","_e","_f","price","getProduct","status","loadingItem","addToCart","product","_m","imageUrl","description","directives","name","rawName","value","expression","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","num","domProps","unit","cart","data","deleteCart","qty","final_total","total","composing","coupon_code","addCoupon","scopedSlots","_u","fn","ref","invalid","preventDefault","createOrder","failed","errors","form","user","staticRenderFns","products","carts","email","tel","address","message","components","Loading","filters","currency","methods","getProducts","vm","$http","product_id","getCart","get","api","then","console","log","res","delete","code","post","success","$router","push","created","component"],"mappings":"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","file":"js/dashboard_testorder.770cc116.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"row mt-4\"},_vm._l((_vm.products),function(item){return _c('div',{key:item.id,staticClass:\"col-md-4 mb-4\"},[_c('div',{staticClass:\"card border-0 shadow-sm\"},[_c('div',{staticStyle:{\"height\":\"300px\",\"background-size\":\"cover\",\"background-position\":\"center\"},style:({ backgroundImage: (\"url(\" + (item.imageUrl) + \")\") })}),_c('div',{staticClass:\"card-body\"},[_c('span',{staticClass:\"badge badge-secondary float-right ml-2\"},[_vm._v(_vm._s(item.category))]),_c('h5',{staticClass:\"card-title\"},[_c('a',{staticClass:\"text-dark\",attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(item.title))])]),_c('p',{staticClass:\"card-text\"},[_vm._v(_vm._s(item.content))]),_c('div',{staticClass:\"d-flex justify-content-between align-items-baseline\"},[(!item.origin_price)?_c('div',{staticClass:\"h6\"},[_vm._v(\" 售價\"+_vm._s(_vm._f(\"currency\")(item.price))+\" \")]):_vm._e(),(item.origin_price)?_c('del',{staticClass:\"h6\"},[_vm._v(\"原價\"+_vm._s(_vm._f(\"currency\")(item.origin_price)))]):_vm._e(),(item.origin_price)?_c('div',{staticClass:\"h5\"},[_vm._v(\" 售價\"+_vm._s(_vm._f(\"currency\")(item.price))+\" \")]):_vm._e()])]),_c('div',{staticClass:\"card-footer d-flex\"},[_c('button',{staticClass:\"btn btn-outline-secondary btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.getProduct(item.id)}}},[(_vm.status.loadingItem === item.id)?_c('i',{staticClass:\"fas fa-spinner fa-spin\"}):_vm._e(),_vm._v(\" 查看更多 \")]),_c('button',{staticClass:\"btn btn-outline-danger btn-sm ml-auto\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addToCart(item.id)}}},[(_vm.status.loadingItem === item.id)?_c('i',{staticClass:\"fas fa-spinner fa-spin\"}):_vm._e(),_vm._v(\" 加到購物車 \")])])])])}),0),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"productModal\",\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalLabel\"}},[_vm._v(\" \"+_vm._s(_vm.product.title)+\" \")]),_vm._m(0)]),_c('div',{staticClass:\"modal-body\"},[_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":_vm.product.imageUrl,\"alt\":\"\"}}),_c('blockquote',{staticClass:\"blockquote mt-3\"},[_c('p',{staticClass:\"mb-0\"},[_vm._v(_vm._s(_vm.product.content))]),_c('footer',{staticClass:\"blockquote-footer text-right\"},[_vm._v(\" \"+_vm._s(_vm.product.description)+\" \")])]),_c('div',{staticClass:\"d-flex justify-content-between align-items-baseline\"},[(!_vm.product.price)?_c('div',{staticClass:\"h4\"},[_vm._v(\" \"+_vm._s(_vm.product.origin_price)+\" 元 \")]):_vm._e(),(_vm.product.price)?_c('del',{staticClass:\"h6\"},[_vm._v(\"原價 \"+_vm._s(_vm.product.origin_price)+\" 元\")]):_vm._e(),(_vm.product.price)?_c('div',{staticClass:\"h4\"},[_vm._v(\" 現在只要 \"+_vm._s(_vm.product.price)+\" 元 \")]):_vm._e()]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.product.num),expression:\"product.num\"}],staticClass:\"form-control mt-3\",attrs:{\"name\":\"\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.product, \"num\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((10),function(num){return _c('option',{key:num,domProps:{\"value\":num}},[_vm._v(\" 選購 \"+_vm._s(num)+\" \"+_vm._s(_vm.product.unit)+\" \")])}),0)]),_c('div',{staticClass:\"modal-footer\"},[_c('div',{staticClass:\"text-muted text-nowrap mr-3\"},[_vm._v(\" 小計 \"),_c('strong',[_vm._v(_vm._s(_vm.product.num * _vm.product.price))]),_vm._v(\" 元 \")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addToCart(_vm.product.id, _vm.product.num)}}},[(_vm.product.id === _vm.status.loadingItem)?_c('i',{staticClass:\"fas fa-spinner fa-spin\"}):_vm._e(),_vm._v(\" 加到購物車 \")])])])])]),_c('table',{staticClass:\"table container mt-4\"},[_vm._m(1),_c('tbody',_vm._l((_vm.cart.data.carts),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"align-middle\"},[_c('button',{staticClass:\"btn btn-outline-danger btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.deleteCart(item.id)}}},[_c('i',{staticClass:\"far fa-trash-alt\"})])]),_c('td',{staticClass:\"align-middle\"},[_vm._v(\" \"+_vm._s(item.product.title)+\" \"),(item.coupon)?_c('div',{staticClass:\"text-success\"},[_vm._v(\" 已套用優惠券 \")]):_vm._e()]),_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.qty)+\"/\"+_vm._s(item.product.unit))]),_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.final_total))+\" \")])])}),0),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"3\"}},[_vm._v(\"總計\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.cart.data.total)))])]),(!_vm.cart.data.total === _vm.cart.data.final_total)?_c('tr',[_c('td',{staticClass:\"text-right text-success\",attrs:{\"colspan\":\"3\"}},[_vm._v(\"折扣價\")]),_c('td',{staticClass:\"text-right text-success\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(_vm.cart.data.final_total))+\" \")])]):_vm._e()])]),_c('div',{staticClass:\"input-group mb-3 container input-group-sm\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.coupon_code),expression:\"coupon_code\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"請輸入優惠碼\"},domProps:{\"value\":(_vm.coupon_code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.coupon_code=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addCoupon}},[_vm._v(\" 套用優惠碼 \")])])]),_c('div',{staticClass:\"my-5 row justify-content-center\"},[_c('ValidationObserver',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar invalid = ref.invalid;\nreturn [_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createOrder($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('ValidationProvider',{staticClass:\"form-group\",attrs:{\"name\":\"Email\",\"rules\":\"required|email\",\"tag\":\"div\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar failed = ref.failed;\nvar errors = ref.errors;\nreturn [_c('label',{attrs:{\"for\":\"useremail\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.email),expression:\"form.user.email\"}],staticClass:\"form-control\",attrs:{\"type\":\"email\",\"name\":\"email\",\"id\":\"useremail\",\"placeholder\":\"請輸入 Email\"},domProps:{\"value\":(_vm.form.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"email\", $event.target.value)}}}),(failed)?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))]):_vm._e()]}}],null,true)})],1),_c('div',{staticClass:\"form-group\"},[_c('ValidationProvider',{attrs:{\"name\":\"姓名\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar failed = ref.failed;\nvar errors = ref.errors;\nreturn [_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(\"收件人姓名\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.name),expression:\"form.user.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"name\",\"id\":\"username\",\"placeholder\":\"輸入姓名\"},domProps:{\"value\":(_vm.form.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"name\", $event.target.value)}}}),(failed)?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))]):_vm._e()]}}],null,true)})],1),_c('div',{staticClass:\"form-group\"},[_c('ValidationProvider',{attrs:{\"name\":\"電話\",\"rules\":\"digits:10\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar failed = ref.failed;\nvar errors = ref.errors;\nreturn [_c('label',{attrs:{\"for\":\"usertel\"}},[_vm._v(\"收件人電話\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.tel),expression:\"form.user.tel\"}],staticClass:\"form-control\",attrs:{\"type\":\"tel\",\"id\":\"usertel\",\"placeholder\":\"請輸入電話\"},domProps:{\"value\":(_vm.form.user.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"tel\", $event.target.value)}}}),(failed)?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))]):_vm._e()]}}],null,true)})],1),_c('div',{staticClass:\"form-group\"},[_c('ValidationProvider',{staticClass:\"form-group\",attrs:{\"name\":\"地址\",\"rules\":\"required\",\"tag\":\"div\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar failed = ref.failed;\nvar errors = ref.errors;\nreturn [_c('label',{attrs:{\"for\":\"useraddress\"}},[_vm._v(\"收件人地址\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.address),expression:\"form.user.address\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"address\",\"id\":\"useraddress\",\"placeholder\":\"請輸入地址\"},domProps:{\"value\":(_vm.form.user.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"address\", $event.target.value)}}}),(failed)?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))]):_vm._e()]}}],null,true)})],1),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"comment\"}},[_vm._v(\"留言\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.message),expression:\"form.message\"}],staticClass:\"form-control\",attrs:{\"name\":\"\",\"id\":\"comment\",\"cols\":\"30\",\"rows\":\"10\"},domProps:{\"value\":(_vm.form.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"message\", $event.target.value)}}})]),_c('div',{staticClass:\"text-right\"},[_c('button',{staticClass:\"btn btn-danger\",attrs:{\"disabled\":invalid}},[_vm._v(\"送出訂單\")])])])]}}])})],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th'),_c('th',[_vm._v(\"品名\")]),_c('th',[_vm._v(\"數量\")]),_c('th',[_vm._v(\"單價\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <loading :active.sync=\"isLoading\"></loading>\n    <div class=\"row mt-4\">\n      <div class=\"col-md-4 mb-4\" v-for=\"item in products\" :key=\"item.id\">\n        <div class=\"card border-0 shadow-sm\">\n          <div\n            style=\"height: 300px; background-size: cover; background-position: center\"\n            :style=\"{ backgroundImage: `url(${item.imageUrl})` }\"\n          ></div>\n          <div class=\"card-body\">\n            <span class=\"badge badge-secondary float-right ml-2\">{{\n              item.category\n            }}</span>\n            <h5 class=\"card-title\">\n              <a href=\"#\" class=\"text-dark\">{{ item.title }}</a>\n            </h5>\n            <p class=\"card-text\">{{ item.content }}</p>\n            <div class=\"d-flex justify-content-between align-items-baseline\">\n              <div class=\"h6\" v-if=\"!item.origin_price\">\n                售價{{ item.price | currency }}\n              </div>\n\n              <del class=\"h6\" v-if=\"item.origin_price\"\n                >原價{{ item.origin_price | currency }}</del\n              >\n              <div class=\"h5\" v-if=\"item.origin_price\">\n                售價{{ item.price | currency }}\n              </div>\n            </div>\n          </div>\n          <div class=\"card-footer d-flex\">\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-secondary btn-sm\"\n              @click=\"getProduct(item.id)\"\n            >\n              <i\n                class=\"fas fa-spinner fa-spin\"\n                v-if=\"status.loadingItem === item.id\"\n              ></i>\n              查看更多\n            </button>\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-danger btn-sm ml-auto\"\n              @click=\"addToCart(item.id)\"\n            >\n              <i\n                class=\"fas fa-spinner fa-spin\"\n                v-if=\"status.loadingItem === item.id\"\n              ></i>\n              加到購物車\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- modal -->\n    <div class=\"modal fade\" id=\"productModal\" tabindex=\"-1\" role=\"dialog\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n              {{ product.title }}\n            </h5>\n            <button\n              type=\"button\"\n              class=\"close\"\n              data-dismiss=\"modal\"\n              aria-label=\"Close\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            <img :src=\"product.imageUrl\" class=\"img-fluid\" alt=\"\" />\n            <blockquote class=\"blockquote mt-3\">\n              <p class=\"mb-0\">{{ product.content }}</p>\n              <footer class=\"blockquote-footer text-right\">\n                {{ product.description }}\n              </footer>\n            </blockquote>\n            <div class=\"d-flex justify-content-between align-items-baseline\">\n              <div class=\"h4\" v-if=\"!product.price\">\n                {{ product.origin_price }} 元\n              </div>\n              <del class=\"h6\" v-if=\"product.price\"\n                >原價 {{ product.origin_price }} 元</del\n              >\n              <div class=\"h4\" v-if=\"product.price\">\n                現在只要 {{ product.price }} 元\n              </div>\n            </div>\n            <!-- 把庫存的數量綁定進來必用v-for顯示 -->\n            <select name=\"\" class=\"form-control mt-3\" v-model=\"product.num\">\n              <option :value=\"num\" v-for=\"num in 10\" :key=\"num\">\n                選購 {{ num }} {{ product.unit }}\n              </option>\n            </select>\n          </div>\n          <div class=\"modal-footer\">\n            <div class=\"text-muted text-nowrap mr-3\">\n              小計 <strong>{{ product.num * product.price }}</strong> 元\n            </div>\n            <button\n              type=\"button\"\n              class=\"btn btn-primary\"\n              @click=\"addToCart(product.id, product.num)\"\n            >\n              <i\n                class=\"fas fa-spinner fa-spin\"\n                v-if=\"product.id === status.loadingItem\"\n              ></i>\n              加到購物車\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 購物車列表 -->\n    <table class=\"table container mt-4\">\n      <thead>\n        <th></th>\n        <th>品名</th>\n        <th>數量</th>\n        <th>單價</th>\n      </thead>\n      <tbody>\n        <tr v-for=\"item in cart.data.carts\" :key=\"item.id\">\n          <td class=\"align-middle\">\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-danger btn-sm\"\n              @click=\"deleteCart(item.id)\"\n            >\n              <i class=\"far fa-trash-alt\"></i>\n            </button>\n          </td>\n          <td class=\"align-middle\">\n            {{ item.product.title }}\n            <div class=\"text-success\" v-if=\"item.coupon\">\n              已套用優惠券\n            </div>\n          </td>\n          <td class=\"align-middle\">{{ item.qty }}/{{ item.product.unit }}</td>\n          <td class=\"align-middle text-right\">\n            {{ item.final_total | currency }}\n          </td>\n        </tr>\n      </tbody>\n      <tfoot>\n        <tr>\n          <td colspan=\"3\" class=\"text-right\">總計</td>\n          <td class=\"text-right\">{{ cart.data.total | currency }}</td>\n        </tr>\n        <tr v-if=\"!cart.data.total === cart.data.final_total\">\n          <td colspan=\"3\" class=\"text-right text-success\">折扣價</td>\n          <td class=\"text-right text-success\">\n            {{ cart.data.final_total | currency }}\n          </td>\n        </tr>\n      </tfoot>\n    </table>\n    <!-- 優惠碼 -->\n    <div class=\"input-group mb-3 container input-group-sm\">\n      <input\n        v-model=\"coupon_code\"\n        type=\"text\"\n        class=\"form-control\"\n        placeholder=\"請輸入優惠碼\"\n      />\n      <div class=\"input-group-append\">\n        <button\n          class=\"btn btn-outline-secondary\"\n          type=\"button\"\n          @click=\"addCoupon\"\n        >\n          套用優惠碼\n        </button>\n      </div>\n    </div>\n    <!-- 建立訂單頁面 -->\n    <div class=\"my-5 row justify-content-center\">\n      <ValidationObserver v-slot=\"{ invalid }\">\n        <form @submit.prevent=\"createOrder\">\n          <div class=\"form-group\">\n            <ValidationProvider\n              name=\"Email\"\n              class=\"form-group\"\n              rules=\"required|email\"\n              v-slot=\"{ failed, errors }\"\n              tag=\"div\"\n            >\n              <label for=\"useremail\">Email</label>\n              <input\n                type=\"email\"\n                class=\"form-control\"\n                name=\"email\"\n                id=\"useremail\"\n                v-model=\"form.user.email\"\n                placeholder=\"請輸入 Email\"\n              />\n              <span v-if=\"failed\" class=\"text-danger\">{{ errors[0] }}</span>\n            </ValidationProvider>\n          </div>\n\n          <div class=\"form-group\">\n            <ValidationProvider\n              name=\"姓名\"\n              rules=\"required\"\n              v-slot=\"{ failed, errors }\"\n            >\n              <label for=\"username\">收件人姓名</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                name=\"name\"\n                id=\"username\"\n                v-model=\"form.user.name\"\n                placeholder=\"輸入姓名\"\n              />\n              <span v-if=\"failed\" class=\"text-danger\">{{ errors[0] }}</span>\n            </ValidationProvider>\n          </div>\n\n          <div class=\"form-group\">\n            <ValidationProvider\n              name=\"電話\"\n              rules=\"digits:10\"\n              v-slot=\"{ failed, errors }\"\n            >\n              <label for=\"usertel\">收件人電話</label>\n              <input\n                type=\"tel\"\n                class=\"form-control\"\n                id=\"usertel\"\n                v-model=\"form.user.tel\"\n                placeholder=\"請輸入電話\"\n              />\n              <span v-if=\"failed\" class=\"text-danger\">{{ errors[0] }}</span>\n            </ValidationProvider>\n          </div>\n\n          <div class=\"form-group\">\n            <ValidationProvider\n              name=\"地址\"\n              class=\"form-group\"\n              rules=\"required\"\n              v-slot=\"{ failed, errors }\"\n              tag=\"div\"\n            >\n              <label for=\"useraddress\">收件人地址</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                name=\"address\"\n                id=\"useraddress\"\n                v-model=\"form.user.address\"\n                placeholder=\"請輸入地址\"\n              />\n              <span v-if=\"failed\" class=\"text-danger\">{{ errors[0] }}</span>\n            </ValidationProvider>\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"comment\">留言</label>\n            <textarea\n              name=\"\"\n              id=\"comment\"\n              class=\"form-control\"\n              cols=\"30\"\n              rows=\"10\"\n              v-model=\"form.message\"\n            ></textarea>\n          </div>\n          <div class=\"text-right\">\n            <button class=\"btn btn-danger\" :disabled=\"invalid\">送出訂單</button>\n          </div>\n        </form>\n      </ValidationObserver>\n    </div>\n  </div>\n</template>\n\n<script>\nimport $ from \"jquery\";\nimport Loading from \"vue-loading-overlay\";\nimport \"vue-loading-overlay/dist/vue-loading.css\";\n\nexport default {\n  data() {\n    return {\n      products: [],\n      product: {},\n      isLoading: false,\n      status: {\n        // 按查看更多時把id傳進來，v-if的id跟商品id一樣時就顯示讀取效果\n        loadingItem: \"\"\n      },\n      cart: {\n        data: {\n          carts: []\n        }\n      },\n      coupon_code: \"\",\n      form: {\n        user: {\n          name: \"\",\n          email: \"\",\n          tel: \"\",\n          address: \"\"\n        },\n        message: \"\"\n      }\n    };\n  },\n  components: {\n    Loading\n  },\n  filters: {\n    // 價格千分號\n    currency: function(num) {\n      const n = Number(num);\n      return `$${n.toFixed(0).replace(/./g, (c, i, a) => {\n        const currency =\n          i && c !== \".\" && (a.length - i) % 3 === 0\n            ? `, ${c}`.replace(/\\s/g, \"\")\n            : c;\n        return currency;\n      })}`;\n    }\n  },\n  methods: {\n    getProducts() {\n      const vm = this;\n      vm.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/abc3675878/products`;\n      this.$http\n        .get(api)\n        .then(res => {\n          console.log(res.data);\n          vm.isLoading = false;\n          vm.products = res.data.products;\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    },\n    // 取單一筆資料\n    getProduct(id) {\n      const vm = this;\n      vm.status.loadingItem = id;\n      const api = `${process.env.VUE_APP_API}api/abc3675878/product/${id}`;\n      this.$http\n        .get(api)\n        .then(res => {\n          console.log(res.data);\n          vm.status.loadingItem = \"\";\n          // 資料讀進去後再打開modal\n          vm.product = res.data.product;\n          $(\"#productModal\").modal(\"show\");\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    },\n    // 加購物車的api 需要傳入 id 和 qty，預設為1\n    addToCart(id, qty = 1) {\n      const vm = this;\n      vm.status.loadingItem = id;\n      const api = `${process.env.VUE_APP_API}api/abc3675878/cart`;\n      // 宣告一個物件將多個值包起來\n      const cart = {\n        product_id: id,\n        qty\n      };\n      // post 到物件裡的 data 中\n      this.$http\n        .post(api, { data: cart })\n        .then(res => {\n          console.log(res.data);\n          vm.status.loadingItem = \"\";\n          $(\"#productModal\").modal(\"hide\");\n          // 加到購物車後記得重新取得一次購物車\n          vm.getCart();\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    },\n    // 取得購物車列表\n    getCart() {\n      const vm = this;\n      const api = `${process.env.VUE_APP_API}api/abc3675878/cart`;\n      vm.isLoading = true;\n      this.$http.get(api).then(res => {\n        console.log(\"成功取得購物車\", res.data);\n        vm.cart = res.data;\n        vm.isLoading = false;\n      });\n    },\n    deleteCart(id) {\n      const vm = this;\n      const api = `${process.env.VUE_APP_API}api/abc3675878/cart/${id}`;\n      vm.isLoading = true;\n      this.$http.delete(api).then(res => {\n        console.log(\"刪除購物車商品\", res.data);\n        vm.isLoading = false;\n        vm.getCart();\n      });\n    },\n    addCoupon() {\n      const vm = this;\n      const api = `${process.env.VUE_APP_API}api/abc3675878/coupon`;\n      const coupon = {\n        code: vm.coupon_code\n      };\n      vm.isLoading = true;\n      this.$http.post(api, { data: coupon }).then(res => {\n        console.log(\"送出優惠碼\", res.data);\n        vm.isLoading = false;\n        vm.coupon_code = \"\";\n        vm.getCart();\n        if (!res.data.success) {\n          this.$bus.$emit(\"message:push\", res.data.message, \"danger\");\n        }\n      });\n    },\n    createOrder() {\n      const vm = this;\n      const api = `${process.env.VUE_APP_API}api/abc3675878/order`;\n      const order = vm.form;\n      vm.isLoading = true;\n      this.$http.post(api, { data: order }).then(res => {\n        console.log(\"送出訂單\", res.data);\n        if (res.data.success) {\n          vm.isLoading = false;\n          // 若成功送出，跳頁到checkout page 路徑記得帶入 orderId\n          vm.$router.push(`checkout/${res.data.orderId}`);\n        } else {\n          this.$bus.$emit(\"message:push\", res.data.message, \"danger\");\n        }\n      });\n    }\n  },\n  created() {\n    this.getProducts();\n    this.getCart();\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Testorder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Testorder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Testorder.vue?vue&type=template&id=731cdbd7&\"\nimport script from \"./Testorder.vue?vue&type=script&lang=js&\"\nexport * from \"./Testorder.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}